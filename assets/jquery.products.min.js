jQuery.cookie=function(e,o,n){if(void 0===o){var t=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),r=0;r<i.length;r++){var a=jQuery.trim(i[r]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}n=n||{},null===o&&(o="",n.expires=-1);var u,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(u=new Date).setTime(u.getTime()+24*n.expires*60*60*1e3):u=n.expires,c="; expires="+u.toUTCString());var p=n.path?"; path="+n.path:"",s=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(o),c,p,s,d].join("")},Shopify.Products=function(){var e={howManyToShow:3,howManyToStoreInMemory:10,wrapperId:"recently-viewed-products",templateId:"recently-viewed-product-template",onComplete:null},o={configuration:{expires:90,path:"/",domain:window.location.hostname},name:"shopify_recently_viewed",write:function(e){jQuery.cookie(this.name,e.join(" "),this.configuration)},read:function(){var e=[],o=jQuery.cookie(this.name);return null!==o&&(e=o.split(" ")),e},destroy:function(){jQuery.cookie(this.name,null,this.configuration)}};return{showRecentlyViewed:function(n){n=n||{};jQuery.extend(e,n);var t=o.read(),i=Math.min(t.length,e.howManyToShow);if(i){var r=jQuery("#"+e.templateId),a=jQuery("#"+e.wrapperId);if(r.length&&a.length)for(var u=0,c=0;c<i;c++)jQuery.getJSON("/products/"+t[c]+".js",function(o){if(r.tmpl(o).appendTo(a),++u===i&&(a.show(),e.onComplete))try{e.onComplete()}catch(e){}})}},getConfig:function(){return e},clearList:function(){o.destroy()},recordRecentlyViewed:function(n){n=n||{};jQuery.extend(e,n);var t=o.read();if(-1!==window.location.pathname.indexOf("/products/")){var i=window.location.pathname.match(/\/products\/([a-z0-9\-]+)/)[1],r=jQuery.inArray(i,t);if(-1===r){t.unshift(i);t=t.splice(0,e.howManyToStoreInMemory)}else t.splice(r,1),t.unshift(i);o.write(t)}}}}();
